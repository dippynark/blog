

<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

 


      <title>Zero down-time deployments with externalTrafficPolicy Local - Luke Addison Blog</title>

  <meta name="description" content="externalTrafficPolicy
Local
is a configuration option for Kubernetes Services that preserves the client source IP and reduces
latency by only forwarding external packets to Pods on the local node. This post describes how a
workload running behind a Service of type LoadBalancer can be configured to reduce the chance of
requests being dropped when performing a rolling update.
As a specific example we are going to be using Nginx Ingress Controller running behind a GKE Service
of type LoadBalancer with GKE
subsetting
enabled, but the concepts should extend to other Kubernetes environments.">
  <meta name="author" content="Luke Addison"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Blog",
    
    "url": "http:\/\/localhost:1313\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "http:\/\/localhost:1313\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "http:\/\/localhost:1313\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "http:\/\/localhost:1313\/post\/2015-08-31-zero-down-time-deployments\/",
          "name": "Zero down time deployments with external traffic policy local"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Luke Addison"
  },
  "headline": "Zero down-time deployments with externalTrafficPolicy Local",
  "description" : "externalTrafficPolicy Local is a configuration option for Kubernetes Services that preserves the client source IP and reduces latency by only forwarding external packets to Pods on the local node. This post describes how a workload running behind a Service of type LoadBalancer can be configured to reduce the chance of requests being dropped when performing a rolling update.\nAs a specific example we are going to be using Nginx Ingress Controller running behind a GKE Service of type LoadBalancer with GKE subsetting enabled, but the concepts should extend to other Kubernetes environments.\n",
  "inLanguage" : "en",
  "wordCount":  885 ,
  "datePublished" : "2025-08-31T00:00:00\u002b00:00",
  "dateModified" : "2025-08-31T00:00:00\u002b00:00",
  "image" : "http:\/\/localhost:1313\/img\/avatar-icon.png",
  "keywords" : [ "kubernetes" ],
  "mainEntityOfPage" : "http:\/\/localhost:1313\/post\/2015-08-31-zero-down-time-deployments\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "http:\/\/localhost:1313\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "http:\/\/localhost:1313\/img\/avatar-icon.png",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>


<meta property="og:title" content="Zero down-time deployments with externalTrafficPolicy Local" />
<meta property="og:description" content="externalTrafficPolicy
Local
is a configuration option for Kubernetes Services that preserves the client source IP and reduces
latency by only forwarding external packets to Pods on the local node. This post describes how a
workload running behind a Service of type LoadBalancer can be configured to reduce the chance of
requests being dropped when performing a rolling update.
As a specific example we are going to be using Nginx Ingress Controller running behind a GKE Service
of type LoadBalancer with GKE
subsetting
enabled, but the concepts should extend to other Kubernetes environments.">
<meta property="og:image" content="http://localhost:1313/img/avatar-icon.png" />
<meta property="og:url" content="http://localhost:1313/post/2015-08-31-zero-down-time-deployments/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Blog" />

  <meta name="twitter:title" content="Zero down-time deployments with externalTrafficPolicy Local" />
  <meta name="twitter:description" content="externalTrafficPolicy
Local
is a configuration option for Kubernetes Services that preserves the client source IP and reduces
latency by only forwarding external packets to Pods on the local node. â€¦">
  <meta name="twitter:image" content="http://localhost:1313/img/avatar-icon.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <link href='http://localhost:1313/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.149.0">
  <link rel="alternate" href="http://localhost:1313/index.xml" type="application/rss+xml" title="Blog"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css" integrity="sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.6.0/css/all.css" integrity="sha384-h/hnnw1Bi4nbpD6kE7nYfCXzovi622sY5WBxww8ARKwpdLj5kUWjRuyiXaD1U2JT" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous"><link rel="stylesheet" href="http://localhost:1313/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="http://localhost:1313/css/highlight.min.css" /><link rel="stylesheet" href="http://localhost:1313/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">


  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://localhost:1313/">Blog</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="About" href="/page/about/">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Blog" href="http://localhost:1313/">
            <img class="avatar-img" src="http://localhost:1313/img/avatar-icon.png" alt="Blog" />
           
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>Zero down-time deployments with externalTrafficPolicy Local</h1>
              
              
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on August 31, 2025
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;5&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;885&nbsp;words
  
  
    
      &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Luke Addison
    
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p><a href="https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip">externalTrafficPolicy
Local</a>
is a configuration option for Kubernetes Services that preserves the client source IP and reduces
latency by only forwarding external packets to Pods on the local node. This post describes how a
workload running behind a Service of type LoadBalancer can be configured to reduce the chance of
requests being dropped when performing a rolling update.</p>
<p>As a specific example we are going to be using Nginx Ingress Controller running behind a GKE Service
of type LoadBalancer with <a href="https://cloud.google.com/kubernetes-engine/docs/how-to/internal-load-balancing#gke-subsetting">GKE
subsetting</a>
enabled, but the concepts should extend to other Kubernetes environments.</p>
<h1 id="prestop-lifecycle-hook">PreStop Lifecycle Hook</h1>
<p>kube-proxy serves a health check which only succeeds when there is at least one running and ready
Pod selected by the Service on the local node. This health check is probed by the load balancer to
ensure that packets are only forwarded to nodes that are ready to receive them.</p>
<p>However, when the last Pod selected by the Service on the local node is terminated, there is a race
condition between when the Pod is stopped and when the load balancer stops forwarding packets.</p>
<p>To ensure that the Pod continues to serve until the load balancer stops sending packets, a
<a href="https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks">PreStop</a>
lifecycle hook can be configured to wait until the load balancer health check has failed. In our
case this is <a href="https://github.com/kubernetes/ingress-gce/blob/203252bfcbe898dac338acd0790751b772097cd3/pkg/healthchecksl4/healthchecksl4.go#L50">6
seconds</a>
plus a small amount of additional time for kube-proxy to observe the terminating Pod and start
failing the health endpoint:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">lifecycle</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">preStop</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">sleep</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">seconds</span>: <span style="color:#ae81ff">10</span>
</span></span></code></pre></div><p>TODO: Speak about /wait-shutdown binary</p>
<h1 id="readiness-probe">Readiness Probe</h1>
<p>Once the load balancer health check has failed new connections will no longer be sent to the node,
however existing connections will still be drained. In our case connection draining is configured to
be <a href="https://github.com/kubernetes/ingress-gce/blob/203252bfcbe898dac338acd0790751b772097cd3/pkg/backends/backends.go#L37">30
seconds</a>,
so we want to continue serving until these connections have been terminated.</p>
<p>One option is to simply extend our PreStop lifecycle hook for 30 seconds so that the load balancer
resets the connections before the Pod is stopped, however this does not give Nginx a chance to drain
HTTP requests gracefully (e.g. by sending GOAWAY frames on HTTP/2 connections).</p>
<p>Instead, by ensuring the Nginx Ingress Controller Pods remain ready after receiving a TERM signal
from the kubelet, we can take advantage of <a href="https://github.com/kubernetes/enhancements/tree/787f515ac4ddb93d0d1c381a17bcd330b8caf9b0/keps/sig-network/1669-proxy-terminating-endpoints">KEP-1669: Proxy Terminating
Endpoints</a>
to ensure that existing connections continue to be forwarded until they are closed by Nginx.</p>
<p>Note that currently the Nginx Ingress Controller readiness probe <a href="https://github.com/kubernetes/ingress-nginx/issues/13689">starts failing as soon as the TERM
signal is received</a> so we need to make
sure that the terminationGracePeriod is configure such that the Pod is killed if Nginx is still
draining connections after the Pod as been marked not ready. In other words we need:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>lifecycleHookPreStopSleepSeconds + <span style="color:#f92672">(</span>readinessProbePeriodSeconds * <span style="color:#f92672">(</span>readinessProbeFailureThreshold - 1<span style="color:#f92672">))</span> &gt;<span style="color:#f92672">=</span> terminationGracePeriodSeconds
</span></span></code></pre></div><h1 id="readiness-gate">Readiness Gate</h1>
<p>So far we have discussed how to ensure that connections are drained when terminating a Pod, but we
also need to ensure that a new Pod is successfully registered with the load balancer on start up.
Without this, if the load balancer is controller is down, we could end up terminating all the old
Pods before the new ones have been registered with the load balancer.</p>
<p><a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#pod-readiness-gate">Pod readiness
gates</a> can
help here by checking that the Pod is registered with the load balancer before marking the Pod as
ready. When using GKE container-native load balancing, you can use the
<a href="https://cloud.google.com/kubernetes-engine/docs/concepts/container-native-load-balancing#pod_readiness">cloud.google.com/load-balancer-neg-ready</a>
readiness gate out of the box which works because the load balancer health check is made directly to
the Pod and so is decoupled from the kube-proxy health check. However, when using a GKE Service of
type LoadBalancer, no such readiness gate exists because there is a cyclic dependency on the
readiness of the node; the readiness gate would not pass until the load balancer has marked the
local node as ready which would not happen until the readiness gate passes.</p>
<p>Since the GKE Service of type LoadBalancer implementation considers <a href="https://github.com/kubernetes/ingress-gce/blob/203252bfcbe898dac338acd0790751b772097cd3/pkg/neg/types/types.go#L337">both ready and not ready Pods
</a>
we could implement a readiness gate that waits for the local node to be added into the load balancer
but just does not wait for it to be healthy, taking advantage of the fact that internal passthrough
Network Load Balancers <a href="https://cloud.google.com/load-balancing/docs/internal/int-netlb-traffic-distribution#failover">distribute new connections to all backend
VMs</a>
if they are all unhealthy. However, even in this case there is a race condition between kube-proxy
configuring routes to the new Pods.</p>
<p>As a simpler work around, the readiness probe can be delayed using <code>initialDelaySeconds</code> for an
amount of time that gives a high chance that the local node has been registered before marking the
Pod as ready (e.g. 20 seconds, slightly longer than the <a href="https://github.com/kubernetes/ingress-gce/blob/203252bfcbe898dac338acd0790751b772097cd3/pkg/flags/flags.go#L43-L44">lease
duration</a>)
but this does not provide any guarantees.</p>
<p>Note that GKE recommends using
<a href="https://cloud.google.com/kubernetes-engine/docs/how-to/container-native-load-balancing#align_rollouts"><code>minReadySeconds</code></a>
which works great when performing a rolling update but is not considered in other circumstances that
cause Pods to be terminated and recreated (e.g. evictions caused by nodes being drained and vertical
Pod autoscaling).</p>
<h1 id="conclusion">Conclusion</h1>
<p>As we can see, the mechanisms for ensuring zero down-time when running behind a Service of type
LoadBalancer with externalTrafficPolicy Local cannot provide guarantees in a number of edge cases,
however we can significantly reduce the chance of experiencing these edge cases by using more
replicas and reducing eviction rates using a PodDisruptionBudget and surge upgrades.</p>
<p>In the future there may be additional options to mitigate these issues, for example <a href="https://github.com/kubernetes/kubernetes/issues/106476#issuecomment-2749150204">Pod Termination
Gates</a>.</p>


        
          <div class="blog-tags">
            
              
              <a href="http://localhost:1313/tags/kubernetes/">kubernetes</a>&nbsp;
            
          </div>
        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                

<div class="share-box" aria-hidden="true">
    <ul class="share">
      
      <li>
        <a href="//twitter.com/share?url=http%3a%2f%2flocalhost%3a1313%2fpost%2f2015-08-31-zero-down-time-deployments%2f&amp;text=Zero%20down-time%20deployments%20with%20externalTrafficPolicy%20Local&amp;via=" target="_blank" title="Share on Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fpost%2f2015-08-31-zero-down-time-deployments%2f" target="_blank" title="Share on Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fpost%2f2015-08-31-zero-down-time-deployments%2f&amp;title=Zero%20down-time%20deployments%20with%20externalTrafficPolicy%20Local" target="_blank" title="Share on Reddit">
          <i class="fab fa-reddit"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2flocalhost%3a1313%2fpost%2f2015-08-31-zero-down-time-deployments%2f&amp;title=Zero%20down-time%20deployments%20with%20externalTrafficPolicy%20Local" target="_blank" title="Share on LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.stumbleupon.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fpost%2f2015-08-31-zero-down-time-deployments%2f&amp;title=Zero%20down-time%20deployments%20with%20externalTrafficPolicy%20Local" target="_blank" title="Share on StumbleUpon">
          <i class="fab fa-stumbleupon"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.pinterest.com/pin/create/button/?url=http%3a%2f%2flocalhost%3a1313%2fpost%2f2015-08-31-zero-down-time-deployments%2f&amp;description=Zero%20down-time%20deployments%20with%20externalTrafficPolicy%20Local" target="_blank" title="Share on Pinterest">
          <i class="fab fa-pinterest"></i>
        </a>
      </li>
    </ul>
  </div>
  

              </div>
            </section>
        

        
          

          
        
      </article>

      
        <ul class="pager blog-pager">
          
          
        </ul>
      


      
      
      
      
      
        
      

    </div>
  </div>
</div>

      <footer>
  <div class="container">
    
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
		
		  <a href="mailto:lukeaddison785@gmail.com" title="Email me">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://github.com/dippynark" title="GitHub">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://linkedin.com/in/luke-addison-a69b5161" title="LinkedIn">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="blog.lukeaddison.co.uk">Luke Addison</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2025
          

          
            &nbsp;&bull;&nbsp;
            <a href="http://localhost:1313/">Blog</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.149.0</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js" integrity="sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
<script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha384-w5y/xIeYixWvfM+A1cEbmHPURnvyqmVg5eVENruEdDjcyRLUSNej7512JQGspFUr" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>

<script src="http://localhost:1313/js/main.js"></script>
<script src="http://localhost:1313/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="http://localhost:1313/js/load-photoswipe.js"></script>










    
  </body>
</html>

